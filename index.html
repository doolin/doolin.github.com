<html>
    <head>

        <title>code.daviddoolin.com</title>
        <link rel="stylesheet" href="blueprint/screen.css" type="text/css" media="screen, projection" />
        <link rel="stylesheet" href="blueprint/print.css" type="text/css" media="print" />
        <!--[if IE]><link rel="stylesheet" href="blueprint/ie.css" type="text/css" media="screen, projection" /><![endif]-->

        <link rel="stylesheet" href="css/style.css" type="text/css" />

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js">
        </script>
        <!-- From http://roshanbh.com.np/2008/03/expandable-collapsible-toggle-pane-jquery.html -->
        <script type="text/javascript">
            $(document).ready( function() {

                //hide the all of the elements with class fulldescription
                $(".fulldescription").hide();

                //toggle the componenet with class msg_body
                $(".msg_head").click( function() {
                    $(this).next(".fulldescription").slideToggle(600);
                });
            });
        </script>
        <script type="text/javascript" src="http://use.typekit.com/fwp7zth.js">
        </script>
        <script type="text/javascript">
            try {
                Typekit.load();
            } catch(e) {
            }
        </script>
    </head>
    <body>

        <div class="container">

            <div class="span-16 last">

                <h1>Code.DavidDoolin.com</h1>
                <p>
                    More than 15 years of coding are
                    scattered across repositories ranging from raw RCS files
                    to the latest version of Git.
                </p>
                <p>
                    Many of the repositories are corporate,
                    where the code was work for hire. Others are privately
                    hosted, but there is still a lot which is publicly
                    hosted.  Links to everything publicly available will
                    be given as necessary.
                </p>
                <p>
                    The story really starts with the projects. Most of this code
                    has been written to support, or implement a variety of
                    applications and software systems.
                </p>
                <p>
                    In the following, each project will be summarized, and the
                    technology explained in plain English, as much as possible.
                </p>


                
                <section id="hrecipe">
                    <h2 class="msg_head">hRecipe - Semantic recipes for WordPress</h2>

                       <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">hRecipe provides WordPress
                              site owners the ability to both format recipes and 
                              increase search relevance using semantic hrecipe markup.</span>
                            <span class="why-important">Semantic metadata is a key 
                              aspect of information discovery on the web.</span>
                            <span class="what-results">Over 6200 downloads (12/27/2010) of the plugin,
                              over a dozen languages and over 1000 trackbacks from published
                              recipes.</span>
                        </p>
                        <h3>Problem space</h3>
                        
                    <div class="fulldescription">
                        <p>
                          Finding and getting found on the web seems to get no easier even 
                          as technology advances. Semantic markup is one help search engines
                          understand the relevance of words and data on a web page, and hrecipe
                          is one of many semantic markup proposals, called <em>microformats</em>,
                          which are approaching standardized definitions.
                        </p>
                        <p>
                          From a blogger's perspective, the main difficulty with microformats
                          is adding the required markup to the elements of recipe. 
                        </p>
                        <p>
                          The Hrecipe plugin for WordPress solves the user interface problem
                          by presenting a set of form fields to the user, who enters the recipe
                          directly into the form fields.  The fields are processed by the plugin, 
                          then the correct markup for hrecipe placed on the WordPress post or page.
                        </p>

                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                        <p>
                          WordPress plugin development leverages standard, off-the-shelf 
                          development technology for LAMP-driven web applications. For hRecipe, 
                          development proceeds on a localhost WordPress installation, with 
                          releases to the WordPress plugin repository as appropriate.
                        </p>
                        <p>
                          Translations have been provided from members of the hRecipe community.
                          The current user interface was written by an hRecipe user and donated to 
                          the project. Other users have contributed to bug reports through the hrecipe 
                          web page.
                        </p>
                        <p>
                          Trackbacks to the recipe home page were eventually disabled. 
                          Somewhere around the 1000 comment mark, WordPress
                          refused to serve that web page. 
                        </p>
                        
                        <h4>Source code</h4>
                        
                        <p>
                          Get the <a href="http://svn.wp-plugins.org/hrecipe">source code for hrecipe</a>
                        at the WordPress plugin repository.
                        </p>
                        <p>
                          Visit the <a target="_blank" href="http://website-in-a-weekend.net/hrecipe/">hRecipe web page</a> 
                          for more information.
                        </p>
                        </div>
                                               
                    </div>
                </section>

                
                <section id="parametric-building-representation">
                    <h2 class="msg_head">Parametric building generation</h2>
                    <div class="fulldescription">

                        <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">Users of simulation require
                                realistic objects for training.</span>
                            <span class="why-important">Rapidly populating a simulation environment
                                with objects modeled from the real world helps planning agencies
                                respond quickly and accurately.</span>
                            <span class="what-results">The Real World Building Editor went on to
                                form the basis of Total Immersion's Object Builder, now based
                                on Google's SketchUp product.</span>
                        </p>
                        <h3>Problem space</h3>
                        <p>
                            Total Immersion brought me on in March 2006 to help define a
                            way to simulate real buildings in their RealWorld platform.
                            Starting from general guidelines, I scoped out requirements,
                            then designed and built the RealWorld Building Editor. The
                            goal of this application was to allow an untrained user to
                            create a model of a real building for use in a simulation,
                            in about 45 minutes.
                        </p>
                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                        <p>
                            The design of the RealWorld Building editor lay in an intersection
                            between game level editing and computer aided design, neither of which
                            was an adequate paradigm.
                        </p>
                        <p>
                            Game designers think in terms of meshes, and planes limiting movement.
                        </p>
                        <p>
                            Buildings modeled using traditional CAD tools require extensive training.
                        </p>
                        <p>
                            The middle ground is applying simple 2D CAD to the regular geometry of
                            most common buildings. For example, since drawing a floor plan is easy, the
                            floor plan was used to "extrude" building walls into 3D, whence the
                            structure could be exported to the RealWorld simulation engine.
                        </p>
                            <p class="buzzwords">
                                C/C++, Lua, OpenFlight, Gamebryo, Qt, EXPRESS, IFC.
                            </p>
                        </div>
                    </div>
                </section>
                
                               
                
                
                <section id="mine-monitoring">
                    <h2 class="msg_head">Mine monitoring sensors</h2>
                    <div class="fulldescription">

                        <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">Sensors can help miners evaluate and monitor
                                working conditions underground, leading to a safer mine.</span>
                            <span class="why-important">Since wireless sensors are line-of-site
                                constrained, establishing a baseline, proof-of-concept implementation
                                is necessary before committing to industrial production.</span>
                            <span class="what-results">We found that wireless sensors work quite
                                well for monitoring temperature, barometric pressure and humidity
                                in Black Diamond Mine, when appropriate care is taken during
                                installation to establish line-of-site communication.</span>
                        </p>
                        <h3>Problem space</h3>
                        <p>
                            Working in an underground mine requires a number of skills beyond
                            software development. For example, everyone on the project was
                            required to undergo mine safety briefing. Parts of the mine suffer
                            from spalling, with occasional rock falls significant enough to
                            threaten safety.  Mote installation required using a number of
                            power tools to both fabricate mounts and attached the mounted
                            mote to mine walls.
                        </p>
                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                            <p>
                                Building a sensor mote network in a mine required distributing motes on a line of
                                site network through the mine.
                            </p>
                            <p class="buzzwords">
                                Nesc, C/C++, ARM, Wireless sensors, HTML, CSS, MySQL, PHP, Linux, Google Maps, Tablet computers, Cygwin
                            </p>
                        </div>
                    </div>
                </section>
                
               
                <section id="wildfire-sensors">
                    <h2 class="msg_head">Wildfire sensors</h2>
                    <div class="fulldescription">

                        <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">Who benefited?</span>
                            <span class="why-important">Why was this work important?</span>
                            <span class="what-results">What were the results?</span>
                        </p>
                        <h3>Problem space</h3>

                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                            <p class="buzzwords">
                                Nesc, C/C++, ARM, Wireless sensors, HTML, CSS, MySQL, PHP, Linux, Google Maps, Tablet computers, Cygwin, GPS
                            </p>
                        </div>
                    </div>
                </section>
                
                
                
                <section id="hub-spoke-search">
                    <h2 class="msg_head">Peer-to-peer search</h2>
                    <div class="fulldescription">

                        <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">Targeted search benefits users by
                                providing results more relevant to their query.</span>
                            <span class="why-important">Grouping content providers by
                                topic helps increase relevancy.</span>
                            <span class="what-results">In 2001, Infrasearch-based JXTA
                                technology returned search results
                                from a major news source database timestamped at 57 seconds
                                after database insertion.</span>
                        </p>
                        <h3>Problem space</h3>
                        
                        
                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                            <p class="buzzwords">
                                Win32, C/C++, Java, HTML, CSS, Linux, Apache, Tomcat, Jetty, Cygwin.
                            </p>
                        </div>
                    </div>
                </section>


                <section id="discrete-element-modeling">
                    <h2 class="msg_head">Discrete element modeling</h2>
                    <div class="fulldescription">

                        <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">Discontinuous deformation analysis, a
                              discrete element method, provided engineers working with fractured rocks
                              masses an MS Windows application for better understanding the 
                              nature of the engineering problem,</span>
                            <span class="why-important">leading to safer, more reliable design.</span>
                            <span class="what-results">This application extended earlier work to 
                              provide an easy-to-use CAD system for modeling fractured rock masses, 
                              and extended mathematical model to incorporate rock bolts.</span>
                        </p>
                        <h3>Problem space</h3>
                        
                        <p>
                          Succinctly, you can't put a landslide in a laboratory, but you can put
                          a landslide in a computer.
                        </p>
                        <p>
                          Simulating the motion of large rock masses is an interesting and difficult 
                          problem. As stated, the scale of the is far too large for laboratory investigation,
                          but it's not always clear how best to simulate motion mathematically.  The problem
                          being that 1. rock masses such as mountains and landslides contain fractures, 
                          2. the properties of the mass often vary in different directions, and 3. the 
                          properties of the mass are often different in different places. Sort of like a 
                          fruit cake, where sometimes you have cake, and sometimes you have not-cake.
                        </p>
                        <p>
                          Variability in direction and location can be handled mathematically without too 
                          much trouble.  Fractures add a lot more complexity, because rock on each side of 
                          the fracture may move independently, and the interaction across the fracture is 
                          discontinuous in time as well as space. These discontinuities render finite element
                          models inapplicable, as finite elements are based on continuous media.
                        </p>
                        <p>
                          Thus, discrete element modeling.  Each element - rock block - is free to move 
                          independently, interacting with each other across fracture boundaries.  The tool 
                          used in this project was an MS Windows implementation of discontinuous deformation analysis.
                        </p>
                        <p>
                          There is one crucial difference between discontinuous deformation analysis and the 
                          particle mechanics that you might see in video games is crucial: <em>discontinuous
                          deformation analysis is based on the physics of rock blocks and rock block interaction</em>.
                        </p>
                        <p>
                            Simulations in video game engines may look real (and may result in being very close 
                            to real behavior), but physics-based systems are <em>necessary</em> for engineering practice.
                        </p>
                        
                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                            <p class="buzzwords">
                                C/C++, Win32 API, Unit testing, Gnuplot, LaTeX, BLAS/LAPACK, Matlab, Octave, Bash, Cygwin
                            </p>
                        </div>
                    </div>
                </section>

                
                <section id="f2j">
                    <h2 class="msg_head">Compiling Fortran to Java</h2>
                    <div class="fulldescription">

                        <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">Who benefited?</span>
                            <span class="why-important">Why was this work important?</span>
                            <span class="what-results">What were the results?</span>
                        </p>
                        <h3>Problem space</h3>
                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                          
                          <p>
                            The University of Tennessee hosts the Innovative Computing Laboratory, which 
                            is a world-class repository of numerical and scientific software. Much of this
                            software is based on the Basic Linear Algebra Subroutines (BLAS), and the 
                            Linear Algebra Packages (LAPACK).  Both BLAS and LAPACK are written in Fortran 77.
                            Using BLAS and LAPACK with other languages requires either having a wrapper
                            around the driver functions such that the calling program can link, or having 
                            BLAS and LAPACK as native source.  
                          </p> 
                          <p>
                            The Fortran-to-Java project, started in the Spring of 1997, chose to take the 
                            BLAS and LAPACK Fortran source directly to Java source code. 
                          </p>
                          <p>
                            At this time, there were no Fortran compilers targeting Java. The <code>f2c</code>
                            project translated a subset of Fortran 77 to the C programming language. The GNU
                            <code>f77</code> compiler was a moving target. Thus, we decided design and build 
                            an in-house compiler, <code>f2j</code>.
                          </p>
                          
                          <p>ICL's <code>f2j</code> is based on the Flex and Bison lexer and parser. While 
                            Fortran is known to be difficult to lexically analyze, by limiting our scope to 
                            the BLAS and LAPACK coding standards, we were able to generate an LR1 grammar
                            and successfully parse the entire code base.
                          </p>
                          <p>
                            Once parsed into an abstract syntax tree, the goto statements in the original 
                            <span class="program-name">Fortran</span> code were reduced to an appropriate 
                            combination of <code>break</code> and <code>continue</code> statements in Java. 
                          </p>
                          
                          <p>
                            Because Java doesn't allow internal access to array elements by pointer, indices
                            were generated to pass into Fortran routines requiring internal array access.   
                          </p>
                          
                            <p class="buzzwords">
                                Toolchain: C, Flex, Bison, JVM, Jasmin, Javap and the usual assortment of 
                                Unix utilities and build scripts.
                            </p>
                        </div>
                    </div>
                </section>
                

                <section id="fracture-flow">
                    <h2 class="msg_head">Fracture flow modeling</h2>
                    <div class="fulldescription">

                        <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">Groundwater contamination on the Oak Ridge
                              Reservation occurs in fractured rock masses, and is difficult to 
                              accurately characterize for remediation.</span>
                            <span class="why-important">The probabilistic model developed in this study 
                              exploits the nature of regularly fractured rocks to allow 
                              predictive modeling of groundwater flow.</span>
                            <span class="what-results">The model was successfully verified
                              numerically. Comparison with field results was good.</span>
                        </p>
                        <ul>
                            <li>
                                Fracture flow:

                                <p>
                                    "Solid rock" is a misnomer. It doesn't exist.
                                </p>
                                <p>
                                    Nearly all rock is fractured at some scale, and these
                                    fractures allow fluids such as water and oil to move
                                    through rock masses.
                                </p>
                                <p>
                                    Because it's easier to see quasars at the edge of the
                                    universe than it is to see 1 meter beneath our feet,
                                    understanding how water moves through fractured rock
                                    requires building and validating mathematical models.
                                </p>
                                <p>
                                    Such models help understand where groundwater is going,
                                    when it's going to get there, and what it might be carrying
                                    with it in terms of contaminants.
                                </p>
                            </li>
                        </ul>
                        <h3>Problem space</h3>
                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                            <p class="buzzwords">
                                C, Matlab.
                            </p>
                        </div>
                    </div>
                </section>
                
                
                
                <section id="fem">
                    <h2 class="msg_head">Fracture toughness testing</h2>
                    <div class="fulldescription">

                        <p class="abstract">
                            <strong>Summary:</strong>
                            <span class="who-benefited">As part of an ongoing environmental
                                study at Oak Ridge National Laboratory, </span>
                            <span class="why-important">limestone and sandstone specimens
                                with known fracture toughness were
                                fractured using the Modified Ring Test.</span>
                            <span class="what-results">Testing results indicated the Modified
                                Ring Test measured toughness appropriately and could be
                                used on rocks outcropping on the Oak Ridge Reservation.</span>
                        </p>
                        <h3>Problem space</h3>
                        <p>
                            Measuring the resistance or propensity of a rock to
                            fracture has important real world application. Rock
                            is the basis for most industrial activity.  We mine it
                            and we crush it with gross mechanical systems.  Large
                            drills. Tons of explosives. Huge metal crushing machines.
                        </p>
                        <p>
                            Everything about rock is energy inefficient. Because we
                            as an industrial society use so much rock, even small
                            fractions of 1% energy improvement can save a lot of
                            money.
                        </p>
                        <p>
                            One common measure is <em>fracture toughness</em>, which
                            can be thought of as a sort of brittleness index distinct
                            from hardness.  For example, cast iron is quite hard, but
                            brittle, while many steels are softer, but much tougher.
                        </p>
                        <p>
                            In this project, Indiana limestone gathering from a quarry
                            south of Bloomington, Indiana was cored into specimens for
                            Modified Ring Testing.
                        </p>
                        <div style="float: right;" class="span-8 last">
                            <img src="images/mrt_mesh_deformed.png" title="Deformed finite element mesh for modified ring test specimen." />
                        </div>

                        <h3 class="technology">Technology</h3>
                        <div class="technology">
                            <p>
                                The geometry processing for quarter-ring cross-sections
                                of the ring specimens was computed using an RPL program on an HP48-SX scientific calculator. The
                                initial parameters were extracted on a Sun4 workstation, loaded to the calculator
                                using Kermit protocol, the geometries calculated, then downloaded into the
                                Macintosh computer running the Cornell FRANC2D code.
                            </p>
                            <p>
                                Later, these analyses were ported to
                                <a href="http://www.simulia.com/products/abaqus_fea.html">Abaqus</a>
                                running on <a href="http://en.wikipedia.org/wiki/SPARCstation_20">Sparc 20 workstations</a>.
                            </p>
                            <p>
                                Other tools included shell scripting with tsch, awk, sed and the usual
                                assortment of Unix tools appropriate to the task.
                            </p>
                            <p>
                                Output was plotted to jgraph.
                            </p>
                            <p class="buzzwords">
                              Toolchain: Sun4, Kermit, HP48, FRANC2D, JGraph, MTS fracture testing machine, machine tools
                              such as rock saw, drill press, etc. 
                            </p>
                        </div>
                    </div>
                </section>
             
                
                <section>
                  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'codedaviddoolincom'; // required: replace example with your forum shortname

    var disqus_developer = 0; // developer mode is on

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    var disqus_identifier = 'dmdcodeindex';
    var disqus_url = 'http://code.daviddoolin.com/index.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
                </section>
                
                <footer>
                    <div style="text-align: center; margin: 10px; font-size: smaller">
                        <p>
                            Copyright &copy; 1994-2010 David M. Doolin All Rights Reserved.
                        </p>
                    </div>
                </footer>
            </div>
        </div>
    </body>
</html>
